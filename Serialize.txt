deployment
apps
dc本
DeploymentController
rolloutRecreate
d
apps
Deployment
rsList
apps
ReplicaSet
podMap
types
UID
v1
Pod
error
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
false
err
nil
err
allRSs
append
oldRSs
newRS
activeOldRSs
controller
FilterActiveReplicaSets
oldRSs
scaledDown
err
dc
scaleDownOldReplicaSetsForRecreate
activeOldRSs
d
err
nil
err
scaledDown
dc
syncRolloutStatus
allRSs
newRS
d
oldPodsRunning
newRS
oldRSs
podMap
dc
syncRolloutStatus
allRSs
newRS
d
newRS
nil
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
true
err
nil
err
allRSs
append
oldRSs
newRS
err
dc
scaleUpNewReplicaSetForRecreate
newRS
d
err
nil
err
util
DeploymentComplete
d
d
Status
err
dc
cleanupDeployment
oldRSs
d
err
nil
err
dc
syncRolloutStatus
allRSs
newRS
d
dc
DeploymentController
scaleDownOldReplicaSetsForRecreate
oldRSs
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
false
i
oldRSs
rs
oldRSs
i
rs
Spec
Replicas
scaledRS
updatedRS
err
dc
scaleReplicaSetAndRecordEvent
rs
deployment
err
nil
false
err
scaledRS
oldRSs
i
updatedRS
scaled
true
scaled
nil
oldPodsRunning
newRS
apps
ReplicaSet
oldRSs
apps
ReplicaSet
podMap
types
UID
v1
Pod
oldPods
util
GetActualReplicaCountForReplicaSets
oldRSs
oldPods
true
rsUID
podList
podMap
newRS
nil
newRS
UID
rsUID
pod
podList
pod
Status
Phase
v1
PodFailed
v1
PodSucceeded
v1
PodUnknown
true
true
false
dc
DeploymentController
scaleUpNewReplicaSetForRecreate
newRS
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
err
dc
scaleReplicaSetAndRecordEvent
newRS
deployment
Spec
Replicas
deployment
scaled
err
MyClass
field1
field2
MyClass
f1
f2
field1
f1
field2
f2
de本ployment
apps
dc本
DeploymentController
rolloutRecreate
d
apps
Deployment
rsList
apps
ReplicaSet
podMap
types
UID
v1
Pod
error
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
false
err
nil
err
allRSs
append
oldRSs
newRS
activeOldRSs
controller
FilterActiveReplicaSets
oldRSs
scaledDown
err
dc
scaleDownOldReplicaSetsForRecreate
activeOldRSs
d
err
nil
err
scaledDown
dc
syncRolloutStatus
allRSs
newRS
d
oldPodsRunning
newRS
oldRSs
podMap
dc
syncRolloutStatus
allRSs
newRS
d
newRS
nil
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
true
err
nil
err
allRSs
append
oldRSs
newRS
err
dc
scaleUpNewReplicaSetForRecreate
newRS
d
err
nil
err
util
DeploymentComplete
d
d
Status
err
dc
cleanupDeployment
oldRSs
d
err
nil
err
dc
syncRolloutStatus
allRSs
newRS
d
dc
DeploymentController
scaleDownOldReplicaSetsForRecreate
oldRSs
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
false
i
oldRSs
rs
oldRSs
i
rs
Spec
Replicas
scaledRS
updatedRS
err
dc
scaleReplicaSetAndRecordEvent
rs
deployment
err
nil
false
err
scaledRS
oldRSs
i
updatedRS
scaled
true
scaled
nil
oldPodsRunning
newRS
apps
ReplicaSet
oldRSs
apps
ReplicaSet
podMap
types
UID
v1
Pod
oldPods
util
GetActualReplicaCountForReplicaSets
oldRSs
oldPods
true
rsUID
podList
podMap
newRS
nil
newRS
UID
rsUID
pod
podList
pod
Status
Phase
v1
PodFailed
v1
PodSucceeded
v1
PodUnknown
true
true
false
dc
DeploymentController
scaleUpNewReplicaSetForRecreate
newRS
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
err
dc
scaleReplicaSetAndRecordEvent
newRS
deployment
Spec
Replicas
deployment
scaled
err
MyClass
field1
field2
MyClass
f1
f2
field1
f1
field2
f2
deployment
apps
dc本
DeploymentController
rolloutRecreate
d
apps
Deployment
rsList
apps
ReplicaSet
podMap
types
UID
v1
Pod
error
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
false
err
nil
err
allRSs
append
oldRSs
newRS
activeOldRSs
controller
FilterActiveReplicaSets
oldRSs
scaledDown
er☢r
dc
scaleDownOldReplicaSetsForRecreate
activeOldRSs
d
err
nil
err
scaledDown
dc
syncRolloutStatus
allRSs
newRS
d
oldPodsRunning
newRS
oldRSs
podMap
dc
syncRolloutStatus
allRSs
newRS
d
newRS
nil
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
true
err
nil
err
allRSs
append
oldRSs
newRS
err
dc
scaleUpNewReplicaSetForRecreate
newRS
d
err
nil
err
util
DeploymentComplete
d
d
Status
err
dc
cleanupDeployment
oldRSs
d
err
nil
err
dc
syncRolloutStatus
allRSs
newRS
d
dc
DeploymentController
scaleDownOldReplicaSetsForRecreate
oldRSs
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
false
i
oldRSs
rs
oldRSs
i
rs
Spec
Replicas
scaledRS
updatedRS
err
dc
scaleReplicaSetAndRecordEvent
rs
deployment
err
nil
false
err
scaledRS
oldRSs
i
updatedRS
scaled
true
scaled
nil
oldPodsRunning
newRS
apps
ReplicaSet
oldRSs
apps
ReplicaSet
podMap
types
UID
v1
Pod
oldPods
util
GetActualReplicaCountForReplicaSets
oldRSs
oldPods
true
rsUID
podList
podMap
newRS
nil
newRS
UID
rsUID
pod
podList
pod
Status
Phase
v1
PodFailed
v1
PodSucceeded
v1
PodUnknown
true
true
false
dc
DeploymentController
scaleUpNewReplicaSetForRecreate
newRS
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
err
dc
scaleReplicaSetAndRecordEvent
newRS
deployment
Spec
Replicas
deployment
scaled
err
MyClass
field1
field2
MyClass
f1
f2
field1
f1
field2
f2
本deployment
apps
dc本
DeploymentController
rolloutRecreate
d
apps
Deployment
rsList
apps
ReplicaSet
podMap
types
UID
v1
Pod
error
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
false
err
nil
err
allRSs
append
oldRSs
newRS
activeOldRSs
controller
FilterActiveReplicaSets
oldRSs
scaledDown
er☢r
dc
scaleDownOldReplicaSetsForRecreate
activeOldRSs
d
err
nil
err
scaledDown
dc
syncRolloutStatus
allRSs
newRS
d
oldPodsRunning
newRS
oldRSs
podMap
dc
syncRolloutStatus
allRSs
newRS
d
newRS
nil
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
true
err
nil
err
allRSs
append
oldRSs
newRS
err
dc
scaleUpNewReplicaSetForRecreate
newRS
d
err
nil
err
util
DeploymentComplete
d
d
Status
err
dc
cleanupDeployment
oldRSs
d
err
nil
err
dc
syncRolloutStatus
allRSs
newRS
d
dc
DeploymentController
scaleDownOldReplicaSetsForRecreate
oldRSs
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
false
i
oldRSs
rs
oldRSs
i
rs
Spec
Replicas
scaledRS
updatedRS
err
dc
scaleReplicaSetAndRecordEvent
rs
deployment
err
nil
false
err
scaledRS
oldRSs
i
updatedRS
scaled
true
scaled
nil
oldPodsRunning
newRS
apps
ReplicaSet
oldRSs
apps
ReplicaSet
podMap
types
UID
v1
Pod
oldPods
util
GetActualReplicaCountForReplicaSets
oldRSs
oldPods
true
rsUID
podList
podMap
newRS
nil
newRS
UID
rsUID
pod
podList
pod
Status
Phase
v1
PodFailed
v1
PodSucceeded
v1
PodUnknown
true
true
false
dc
DeploymentController
scaleUpNewReplicaSetForRecreate
newRS
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
err
dc
scaleReplicaSetAndRecordEvent
newRS
deployment
Spec
Replicas
deployment
scaled
err
MyClass
field1
field2
MyClass
f1
f2
field1
f1
field2
f2
本deployment
apps
dc本
DeploymentController
rolloutRecreate
d
apps
Deployment
rsList
apps
ReplicaSet
podMap
types
UID
v1
Pod
error
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
false
err
nil
err
allRSs
append
oldRSs
newRS
activeOldRSs
controller
FilterActiveReplicaSets
oldRSs
scaledDown
er☢r
dc
scaleDownOldReplicaSetsForRecreate
activeOldRSs
d
err
nil
err
scaledDown
dc
syncRolloutStatus
allRSs
newRS
d
oldPodsRunning
newRS
oldRSs
podMap
dc
syncRolloutStatus
allRSs
newRS
d
newRS
nil
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
true
err
nil
err
allRSs
append
oldRSs
newRS
err
dc
scaleUpNewReplicaSetForRecreate
newRS
d
err
nil
err
util
DeploymentComplete
d
d
Status
err
dc
cleanupDeployment
oldRSs
d
err
nil
err
dc
syncRolloutStatus
allRSs
newRS
d
dc
DeploymentController
scaleDownOldReplicaSetsForRecreate
oldRSs
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
false
i
oldRSs
rs
oldRSs
i
rs
Spec
Replicas
scaledRS
updatedRS
err
dc
scaleReplicaSetAndRecordEvent
rs
deployment
err
nil
false
err
scaledRS
oldRSs
i
updatedRS
scaled
true
scaled
nil
oldPodsRunning
newRS
apps
ReplicaSet
oldRSs
apps
ReplicaSet
podMap
types
UID
v1
Pod
oldPods
util
GetActualReplicaCountForReplicaSets
oldRSs
oldPods
true
rsUID
podList
podMap
newRS
nil
newRS
UID
rsUID
pod
podList
pod
Status
Phase
v1
PodFailed
v1
PodSucceeded
v1
PodUnknown
true
true
false
dc
DeploymentController
scaleUpNewReplicaSetForRecreate
newRS
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
err
dc
scaleReplicaSetAndRecordEvent
newRS
deployment
Spec
Replicas
deployment
scaled
err
MyClass
field1
field2
MyClass
f1
f2
field1
f1
field2
f2
本deployment
apps
dc本
DeploymentController
rolloutRecreate
d
apps
Deployment
rsList
apps
ReplicaSet
podMap
types
UID
v1
Pod
error
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
false
err
nil
err
allRSs
append
oldRSs
newRS
activeOldRSs
controller
FilterActiveReplicaSets
oldRSs
scaledDown
er☢r
dc
scaleDownOldReplicaSetsForRecreate
activeOldRSs
d
err
nil
err
scaledDown
dc
syncRolloutStatus
allRSs
newRS
d
oldPodsRunning
newRS
oldRSs
podMap
dc
syncRolloutStatus
allRSs
newRS
d
newRS
nil
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
true
err
nil
err
allRSs
append
oldRSs
newRS
err
dc
scaleUpNewReplicaSetForRecreate
newRS
d
err
nil
err
util
DeploymentComplete
d
d
Status
err
dc
cleanupDeployment
oldRSs
d
err
nil
err
dc
syncRolloutStatus
allRSs
newRS
d
dc
DeploymentController
scaleDownOldReplicaSetsForRecreate
oldRSs
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
false
i
oldRSs
rs
oldRSs
i
rs
Spec
Replicas
scaledRS
updatedRS
err
dc
scaleReplicaSetAndRecordEvent
rs
deployment
err
nil
false
err
scaledRS
oldRSs
i
updatedRS
scaled
true
scaled
nil
oldPodsRunning
newRS
apps
ReplicaSet
oldRSs
apps
ReplicaSet
podMap
types
UID
v1
Pod
oldPods
util
GetActualReplicaCountForReplicaSets
oldRSs
oldPods
true
rsUID
podList
podMap
newRS
nil
newRS
UID
rsUID
pod
podList
pod
Status
Phase
v1
PodFailed
v1
PodSucceeded
v1
PodUnknown
true
true
false
dc
DeploymentController
scaleUpNewReplicaSetForRecreate
newRS
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
err
dc
scaleReplicaSetAndRecordEvent
newRS
deployment
Spec
Replicas
deployment
scaled
err
MyClass
field1
field2
MyClass
f1
f2
field1
f1
field2
f2
本deployment
apps
dc本
DeploymentController
rolloutRecreate
d
apps
Deployment
rsList
apps
ReplicaSet
podMap
types
UID
v1
Pod
error
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
false
err
nil
err
allRSs
append
oldRSs
newRS
activeOldRSs
controller
FilterActiveReplicaSets
oldRSs
scaledDown
er☢r
dc
scaleDownOldReplicaSetsForRecreate
activeOldRSs
d
err
nil
err
scaledDown
dc
syncRolloutStatus
allRSs
newRS
d
oldPodsRunning
newRS
oldRSs
podMap
dc
syncRolloutStatus
allRSs
newRS
d
newRS
nil
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
true
err
nil
err
allRSs
append
oldRSs
newRS
err
dc
scaleUpNewReplicaSetForRecreate
newRS
d
err
nil
err
util
DeploymentComplete
d
d
Status
err
dc
cleanupDeployment
oldRSs
d
err
nil
err
dc
syncRolloutStatus
allRSs
newRS
d
dc
DeploymentController
scaleDownOldReplicaSetsForRecreate
oldRSs
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
false
i
oldRSs
rs
oldRSs
i
rs
Spec
Replicas
scaledRS
updatedRS
err
dc
scaleReplicaSetAndRecordEvent
rs
deployment
err
nil
false
err
scaledRS
oldRSs
i
updatedRS
scaled
true
scaled
nil
oldPodsRunning
newRS
apps
ReplicaSet
oldRSs
apps
ReplicaSet
podMap
types
UID
v1
Pod
oldPods
util
GetActualReplicaCountForReplicaSets
oldRSs
oldPods
true
rsUID
podList
podMap
newRS
nil
newRS
UID
rsUID
pod
podList
pod
Status
Phase
v1
PodFailed
v1
PodSucceeded
v1
PodUnknown
true
true
false
dc
DeploymentController
scaleUpNewReplicaSetForRecreate
newRS
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
err
dc
scaleReplicaSetAndRecordEvent
newRS
deployment
Spec
Replicas
deployment
scaled
err
MyClass
field1
field2
MyClass
f1
f2
field1
f1
field2
f2
本d1eployment
apps
dc本
DeploymentController
rolloutRecreate
d
apps
Deployment
rsList
apps
ReplicaSet
podMap
types
UID
v1
Pod
error
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
false
err
nil
err
allRSs
append
oldRSs
newRS
activeOldRSs
controller
FilterActiveReplicaSets
oldRSs
scaledDown
er☢r
dc
scaleDownOldReplicaSetsForRecreate
activeOldRSs
d
err
nil
err
scaledDown
dc
syncRolloutStatus
allRSs
newRS
d
oldPodsRunning
newRS
oldRSs
podMap
dc
syncRolloutStatus
allRSs
newRS
d
newRS
nil
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
true
err
nil
err
allRSs
append
oldRSs
newRS
err
dc
scaleUpNewReplicaSetForRecreate
newRS
d
err
nil
err
util
DeploymentComplete
d
d
Status
err
dc
cleanupDeployment
oldRSs
d
err
nil
err
dc
syncRolloutStatus
allRSs
newRS
d
dc
DeploymentController
scaleDownOldReplicaSetsForRecreate
oldRSs
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
false
i
oldRSs
rs
oldRSs
i
rs
Spec
Replicas
d1eployment
apps
dc本
DeploymentController
rolloutRecreate
d
apps
Deployment
rsList
apps
ReplicaSet
podMap
types
UID
v1
Pod
error
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
false
err
nil
err
allRSs
append
oldRSs
newRS
activeOldRSs
controller
FilterActiveReplicaSets
oldRSs
scaledDown
er☢r
dc
scaleDownOldReplicaSetsForRecreate
activeOldRSs
d
err
nil
err
scaledDown
dc
syncRolloutStatus
allRSs
newRS
d
oldPodsRunning
newRS
oldRSs
podMap
dc
syncRolloutStatus
allRSs
newRS
d
newRS
nil
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
true
err
nil
err
allRSs
append
oldRSs
newRS
err
dc
scaleUpNewReplicaSetForRecreate
newRS
d
err
nil
err
util
DeploymentComplete
d
d
Status
err
dc
cleanupDeployment
oldRSs
d
err
nil
err
dc
syncRolloutStatus
allRSs
newRS
d
dc
DeploymentController
scaleDownOldReplicaSetsForRecreate
oldRSs
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
false
i
oldRSs
rs
oldRSs
i
rs
Spec
Replicas
d1eployment
apps
dc本
DeploymentController
rolloutRecreate
d
apps
Deployment
rsList
apps
ReplicaSet
podMap
types
UID
v1
Pod
error
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
false
err
nil
err
allRSs
append
oldRSs
newRS
activeOldRSs
controller
FilterActiveReplicaSets
oldRSs
scaledDown
er☢r
dc
scaleDownOldReplicaSetsForRecreate
activeOldRSs
d
err
nil
err
scaledDown
dc
syncRolloutStatus
allRSs
newRS
d
oldPodsRunning
newRS
oldRSs
podMap
dc
syncRolloutStatus
allRSs
newRS
d
newRS
nil
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
true
err
nil
err
allRSs
append
oldRSs
newRS
err
dc
scaleUpNewReplicaSetForRecreate
newRS
d
err
nil
err
util
DeploymentComplete
d
d
Status
err
dc
cleanupDeployment
oldRSs
d
err
nil
err
dc
syncRolloutStatus
allRSs
newRS
d
dc
DeploymentController
scaleDownOldReplicaSetsForRecreate
oldRSs
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
false
i
oldRSs
rs
oldRSs
i
rs
Spec
Replicas
scaledRS
updatedRS
err
dc
scaleReplicaSetAndRecordEvent
rs
deployment
err
nil
false
err
scaledRS
oldRSs
i
updatedRS
scaled
true
scaled
nil
oldPodsRunning
newRS
apps
ReplicaSet
oldRSs
apps
ReplicaSet
podMap
types
UID
v1
Pod
oldPods
util
GetActualReplicaCountForReplicaSets
oldRSs
oldPods
true
rsUID
podList
podMap
newRS
nil
newRS
UID
rsUID
pod
podList
pod
Status
Phase
v1
PodFailed
v1
PodSucceeded
v1
PodUnknown
true
true
false
dc
DeploymentController
scaleUpNewReplicaSetForRecreate
newRS
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
err
dc
scaleReplicaSetAndRecordEvent
newRS
deployment
Spec
Replicas
deployment
scaled
err
MyClass
field1
field2
MyClass
f1
f2
field1
f1
field2
f2
本d1eployment
apps
dc本
DeploymentController
rolloutRecreate
d
apps
Deployment
rsList
apps
ReplicaSet
podMap
types
UID
v1
Pod
error
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
false
err
nil
err
allRSs
append
oldRSs
newRS
activeOldRSs
controller
FilterActiveReplicaSets
oldRSs
scaledDown
er☢r
dc
scaleDownOldReplicaSetsForRecreate
activeOldRSs
d
err
nil
err
scaledDown
dc
syncRolloutStatus
allRSs
newRS
d
oldPodsRunning
newRS
oldRSs
podMap
dc
syncRolloutStatus
allRSs
newRS
d
newRS
nil
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
true
err
nil
err
allRSs
append
oldRSs
newRS
err
dc
scaleUpNewReplicaSetForRecreate
newRS
d
err
nil
err
util
DeploymentComplete
d
d
Status
err
dc
cleanupDeployment
oldRSs
d
err
nil
err
dc
syncRolloutStatus
allRSs
newRS
d
dc
DeploymentController
scaleDownOldReplicaSetsForRecreate
oldRSs
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
false
i
oldRSs
rs
oldRSs
i
rs
Spec
Replicas
scaledRS
updatedRS
err
dc
scaleReplicaSetAndRecordEvent
rs
deployment
err
nil
false
err
scaledRS
oldRSs
i
updatedRS
scaled
true
scaled
nil
oldPodsRunning
newRS
apps
ReplicaSet
oldRSs
apps
ReplicaSet
podMap
types
UID
v1
Pod
oldPods
util
GetActualReplicaCountForReplicaSets
oldRSs
oldPods
true
rsUID
podList
podMap
newRS
nil
newRS
UID
rsUID
pod
podList
pod
Status
Phase
v1
PodFailed
v1
PodSucceeded
v1
PodUnknown
true
true
false
dc
DeploymentController
scaleUpNewReplicaSetForRecreate
newRS
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
err
dc
scaleReplicaSetAndRecordEvent
newRS
deployment
Spec
Replicas
deployment
scaled
err
MyClass
field1
field2
MyClass
f1
f2
field1
f1
field2
f2
本d1eployment
apps
dc本
DeploymentController
rolloutRecreate
d
apps
Deployment
rsList
apps
ReplicaSet
podMap
types
UID
v1
Pod
error
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
false
err
nil
err
allRSs
append
oldRSs
newRS
activeOldRSs
controller
FilterActiveReplicaSets
oldRSs
scaledDown
er☢r
dc
scaleDownOldReplicaSetsForRecreate
activeOldRSs
d
err
nil
err
scaledDown
dc
syncRolloutStatus
allRSs
newRS
d
oldPodsRunning
newRS
oldRSs
podMap
dc
syncRolloutStatus
allRSs
newRS
d
newRS
nil
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
true
err
nil
err
allRSs
append
oldRSs
newRS
err
dc
scaleUpNewReplicaSetForRecreate
newRS
d
err
nil
err
util
DeploymentComplete
d
d
Status
err
dc
cleanupDeployment
oldRSs
d
err
nil
err
dc
syncRolloutStatus
allRSs
newRS
d
dc
DeploymentController
scaleDownOldReplicaSetsForRecreate
oldRSs
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
false
i
oldRSs
rs
oldRSs
i
rs
Spec
Replicas
scaledRS
updatedRS
err
dc
scaleReplicaSetAndRecordEvent
rs
deployment
err
nil
false
err
scaledRS
oldRSs
i
updatedRS
scaled
true
scaled
nil
oldPodsRunning
newRS
apps
ReplicaSet
oldRSs
apps
ReplicaSet
podMap
types
UID
v1
Pod
oldPods
util
GetActualReplicaCountForReplicaSets
oldRSs
oldPods
true
rsUID
podList
podMap
newRS
nil
newRS
UID
rsUID
pod
podList
pod
Status
Phase
v1
PodFailed
v1
PodSucceeded
v1
PodUnknown
true
true
false
dc
DeploymentController
scaleUpNewReplicaSetForRecreate
newRS
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
err
dc
scaleReplicaSetAndRecordEvent
newRS
deployment
Spec
Replicas
deployment
scaled
err
MyClass
field1
field2
MyClass
f1
f2
field1
f1
field2
f2
本d1eployment
apps
dc本
DeploymentController
rolloutRecreate
d
apps
Deployment
rsList
apps
ReplicaSet
podMap
types
UID
v1
Pod
error
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
false
err
nil
err
allRSs
append
oldRSs
newRS
activeOldRSs
controller
FilterActiveReplicaSets
oldRSs
scaledDown
er☢r
dc
scaleDownOldReplicaSetsForRecreate
activeOldRSs
d
err
nil
err
scaledDown
dc
syncRolloutStatus
allRSs
newRS
d
oldPodsRunning
newRS
oldRSs
podMap
dc
syncRolloutStatus
allRSs
newRS
d
newRS
nil
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
true
err
nil
err
allRSs
append
oldRSs
newRS
err
dc
scaleUpNewReplicaSetForRecreate
newRS
d
err
nil
err
util
DeploymentComplete
d
d
Status
err
dc
cleanupDeployment
oldRSs
d
err
nil
err
dc
syncRolloutStatus
allRSs
newRS
d
dc
DeploymentController
scaleDownOldReplicaSetsForRecreate
oldRSs
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
false
i
oldRSs
rs
oldRSs
i
rs
Spec
Replicas
scaledRS
updatedRS
err
dc
scaleReplicaSetAndRecordEvent
rs
deployment
err
nil
false
err
scaledRS
oldRSs
i
updatedRS
scaled
true
scaled
nil
oldPodsRunning
newRS
apps
ReplicaSet
oldRSs
apps
ReplicaSet
podMap
types
UID
v1
Pod
oldPods
util
GetActualReplicaCountForReplicaSets
oldRSs
oldPods
true
rsUID
podList
podMap
newRS
nil
newRS
UID
rsUID
pod
podList
pod
Status
Phase
v1
PodFailed
v1
PodSucceeded
v1
PodUnknown
true
true
false
dc
DeploymentController
scaleUpNewReplicaSetForRecreate
newRS
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
err
dc
scaleReplicaSetAndRecordEvent
newRS
deployment
Spec
Replicas
deployment
scaled
err
MyClass
field1
field2
MyClass
f1
f2
field1
f1
field2
f2
本d1eployment
apps
dc本
DeploymentController
rolloutRecreate
d
apps
Deployment
rsList
apps
ReplicaSet
podMap
types
UID
v1
Pod
error
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
false
err
nil
err
allRSs
append
oldRSs
newRS
activeOldRSs
controller
FilterActiveReplicaSets
oldRSs
scaledDown
er☢r
dc
scaleDownOldReplicaSetsForRecreate
activeOldRSs
d
err
nil
err
scaledDown
dc
syncRolloutStatus
allRSs
newRS
d
oldPodsRunning
newRS
oldRSs
podMap
dc
syncRolloutStatus
allRSs
newRS
d
newRS
nil
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
true
err
nil
err
allRSs
append
oldRSs
newRS
err
dc
scaleUpNewReplicaSetForRecreate
newRS
d
err
nil
err
util
DeploymentComplete
d
d
Status
err
dc
cleanupDeployment
oldRSs
d
err
nil
err
dc
syncRolloutStatus
allRSs
newRS
d
dc
DeploymentController
scaleDownOldReplicaSetsForRecreate
oldRSs
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
false
i
oldRSs
rs
oldRSs
i
rs
Spec
Replicas
scaledRS
updatedRS
err
dc
scaleReplicaSetAndRecordEvent
rs
deployment
err
nil
false
err
scaledRS
oldRSs
i
updatedRS
scaled
true
scaled
nil
oldPodsRunning
newRS
apps
ReplicaSet
oldRSs
apps
ReplicaSet
podMap
types
UID
v1
Pod
oldPods
util
GetActualReplicaCountForReplicaSets
oldRSs
oldPods
true
rsUID
podList
podMap
newRS
nil
newRS
UID
rsUID
pod
podList
pod
Status
Phase
v1
PodFailed
v1
PodSucceeded
v1
PodUnknown
true
true
false
dc
DeploymentController
scaleUpNewReplicaSetForRecreate
newRS
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
err
dc
scaleReplicaSetAndRecordEvent
newRS
deployment
Spec
Replicas
deployment
scaled
err
MyClass
field1
field2
MyClass
f1
f2
field1
f1
field2
f2
本d1eployment
apps
本d1eployment
apps
dc本
DeploymentController
rolloutRecreate
d
apps
Deployment
rsList
apps
ReplicaSet
podMap
types
UID
v1
Pod
error
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
false
err
nil
err
allRSs
append
oldRSs
newRS
activeOldRSs
controller
FilterActiveReplicaSets
oldRSs
scaledDown
er☢r
dc
scaleDownOldReplicaSetsForRecreate
activeOldRSs
d
err
nil
err
scaledDown
dc
syncRolloutStatus
allRSs
newRS
d
oldPodsRunning
newRS
oldRSs
podMap
dc
syncRolloutStatus
allRSs
newRS
d
newRS
nil
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
true
err
nil
err
allRSs
append
oldRSs
newRS
err
dc
scaleUpNewReplicaSetForRecreate
newRS
d
err
nil
err
util
DeploymentComplete
d
d
Status
err
dc
cleanupDeployment
oldRSs
d
err
nil
err
dc
syncRolloutStatus
allRSs
newRS
d
dc
DeploymentController
scaleDownOldReplicaSetsForRecreate
oldRSs
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
false
i
oldRSs
rs
oldRSs
i
rs
Spec
Replicas
scaledRS
updatedRS
err
dc
scaleReplicaSetAndRecordEvent
rs
deployment
err
nil
false
err
scaledRS
oldRSs
i
updatedRS
scaled
true
scaled
nil
oldPodsRunning
newRS
apps
ReplicaSet
oldRSs
apps
ReplicaSet
podMap
types
UID
v1
Pod
oldPods
util
GetActualReplicaCountForReplicaSets
oldRSs
oldPods
true
rsUID
podList
podMap
newRS
nil
newRS
UID
rsUID
pod
podList
pod
Status
Phase
v1
PodFailed
v1
PodSucceeded
v1
PodUnknown
true
true
false
dc
DeploymentController
scaleUpNewReplicaSetForRecreate
newRS
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
err
dc
scaleReplicaSetAndRecordEvent
newRS
deployment
Spec
Replicas
deployment
scaled
err
MyClass
field1
field2
MyClass
f1
f2
field1
f1
field2
f2
本d1eployment
apps
dc本
DeploymentController
rolloutRecreate
d
apps
Deployment
rsList
apps
ReplicaSet
podMap
types
UID
v1
Pod
error
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
false
err
nil
err
allRSs
append
oldRSs
newRS
activeOldRSs
controller
FilterActiveReplicaSets
oldRSs
scaledDown
er☢r
dc
scaleDownOldReplicaSetsForRecreate
activeOldRSs
d
err
nil
err
scaledDown
dc
syncRolloutStatus
allRSs
newRS
d
oldPodsRunning
newRS
oldRSs
podMap
dc
syncRolloutStatus
allRSs
newRS
d
newRS
nil
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
true
err
nil
err
allRSs
append
oldRSs
newRS
err
dc
scaleUpNewReplicaSetForRecreate
newRS
d
err
nil
err
util
DeploymentComplete
d
d
Status
err
dc
cleanupDeployment
oldRSs
d
err
nil
err
dc
syncRolloutStatus
allRSs
newRS
d
dc
DeploymentController
scaleDownOldReplicaSetsForRecreate
oldRSs
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
false
i
oldRSs
rs
oldRSs
i
rs
Spec
Replicas
scaledRS
updatedRS
err
dc
scaleReplicaSetAndRecordEvent
rs
deployment
err
nil
false
err
scaledRS
oldRSs
i
updatedRS
scaled
true
scaled
nil
oldPodsRunning
newRS
apps
ReplicaSet
oldRSs
apps
ReplicaSet
podMap
types
UID
v1
Pod
oldPods
util
GetActualReplicaCountForReplicaSets
oldRSs
oldPods
true
rsUID
podList
podMap
newRS
nil
newRS
UID
rsUID
pod
podList
pod
Status
Phase
v1
PodFailed
v1
PodSucceeded
v1
PodUnknown
true
true
false
dc
DeploymentController
scaleUpNewReplicaSetForRecreate
newRS
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
err
dc
scaleReplicaSetAndRecordEvent
newRS
deployment
Spec
Replicas
deployment
scaled
err
MyClass
field1
field2
MyClass
f1
f2
field1
f1
field2
f2
本d1eployment
apps
f456
dc本
DeploymentController
rolloutRecreate
d
apps
Deployment
rsList
apps
ReplicaSet
podMap
types
UID
v1
Pod
error
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
false
err
nil
err
allRSs
append
oldRSs
newRS
activeOldRSs
controller
FilterActiveReplicaSets
oldRSs
scaledDown
er☢r
dc
scaleDownOldReplicaSetsForRecreate
activeOldRSs
d
err
nil
err
scaledDown
dc
syncRolloutStatus
allRSs
newRS
d
oldPodsRunning
newRS
oldRSs
podMap
dc
syncRolloutStatus
allRSs
newRS
d
newRS
nil
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
true
err
nil
err
allRSs
append
oldRSs
newRS
err
dc
scaleUpNewReplicaSetForRecreate
newRS
d
err
nil
err
util
DeploymentComplete
d
d
Status
err
dc
cleanupDeployment
oldRSs
d
err
nil
err
dc
syncRolloutStatus
allRSs
newRS
d
dc
DeploymentController
scaleDownOldReplicaSetsForRecreate
oldRSs
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
false
i
oldRSs
rs
oldRSs
i
rs
Spec
Replicas
scaledRS
updatedRS
err
dc
scaleReplicaSetAndRecordEvent
rs
deployment
err
nil
false
err
scaledRS
oldRSs
i
updatedRS
scaled
true
scaled
nil
oldPodsRunning
newRS
apps
ReplicaSet
oldRSs
apps
ReplicaSet
podMap
types
UID
v1
Pod
oldPods
util
GetActualReplicaCountForReplicaSets
oldRSs
oldPods
true
rsUID
podList
podMap
newRS
nil
newRS
UID
rsUID
pod
podList
pod
Status
Phase
v1
PodFailed
v1
PodSucceeded
v1
PodUnknown
true
true
false
dc
DeploymentController
scaleUpNewReplicaSetForRecreate
newRS
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
err
dc
scaleReplicaSetAndRecordEvent
newRS
deployment
Spec
Replicas
deployment
scaled
err
MyClass
field1
field2
MyClass
f1
f2
field1
f1
field2
f2
本d1eployment
apps
本de4ployment
apps
dc本
DeploymentController
rolloutRecreate
d
apps
Deployment
rsList
apps
ReplicaSet
podMap
types
UID
v1
Pod
error
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
false
err
nil
err
allRSs
append
oldRSs
newRS
activeOldRSs
controller
FilterActiveReplicaSets
oldRSs
scaledDown
er☢r
dc
scaleDownOldReplicaSetsForRecreate
activeOldRSs
d
err
nil
err
scaledDown
dc
syncRolloutStatus
allRSs
newRS
d
oldPodsRunning
newRS
oldRSs
podMap
dc
syncRolloutStatus
allRSs
newRS
d
newRS
nil
newRS
oldRSs
err
dc
getAllReplicaSetsAndSyncRevision
d
rsList
true
err
nil
err
allRSs
append
oldRSs
newRS
err
dc
scaleUpNewReplicaSetForRecreate
newRS
d
err
nil
err
util
DeploymentComplete
d
d
Status
err
dc
cleanupDeployment
oldRSs
d
err
nil
err
dc
syncRolloutStatus
allRSs
newRS
d
dc
DeploymentController
scaleDownOldReplicaSetsForRecreate
oldRSs
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
false
i
oldRSs
rs
oldRSs
i
rs
Spec
Replicas
scaledRS
updatedRS
err
dc
scaleReplicaSetAndRecordEvent
rs
deployment
err
nil
false
err
scaledRS
oldRSs
i
updatedRS
scaled
true
scaled
nil
oldPodsRunning
newRS
apps
ReplicaSet
oldRSs
apps
ReplicaSet
podMap
types
UID
v1
Pod
oldPods
util
GetActualReplicaCountForReplicaSets
oldRSs
oldPods
true
rsUID
podList
podMap
newRS
nil
newRS
UID
rsUID
pod
podList
pod
Status
Phase
v1
PodFailed
v1
PodSucceeded
v1
PodUnknown
true
true
false
dc
DeploymentController
scaleUpNewReplicaSetForRecreate
newRS
apps
ReplicaSet
deployment
apps
Deployment
error
scaled
err
dc
scaleReplicaSetAndRecordEvent
newRS
deployment
Spec
Replicas
deployment
scaled
err
MyClass
field1
field2
MyClass
f1
f2
field1
f1
field2
f2
Client
id
websocket
Conn
ws
Server
server
Message
ch
doneCh
Client
websocket
Conn
ws
Server
server
ws
panic
server
panic
maxId
ch
make
Message
channelBufSize
doneCh
make
id
maxId
ws
ws
server
server
ch
ch
doneCh
doneCh
websocket
Conn
Conn
ws
void
Write
Message
msg
ch
msg
server
Del
c
err
fmt
Errorf
server
Err
err
void
Done
doneCh
true
Server
Listen
listenWrite
listenRead
server
void
listenWrite
log
Println
msg
ch
log
PrintLn
msg
websocket
JOSN
Send
ws
msg
doneCh
server
Del
c
doneCh
true
chat
chat
chat
channelBufSize
maxId
main
log
SetFlags
log
Lshortfile
server
char
NewServer
server
Listen
http
Handle
http
FileServer
http
Dir
log
Fatal
http
ListenAndServe
nil
Client
id
websocket
Conn
ws
Server
server
Message
ch
doneCh
Client
websocket
Conn
ws
Server
server
ws
panic
server
panic
maxId
ch
make
Message
channelBufSize
doneCh
make
id
maxId
ws
ws
server
server
ch
ch
doneCh
doneCh
websocket
Conn
Conn
ws
Write
Message
msg
ch
msg
server
Del
c
err
fmt
Errorf
server
Err
err
Done
doneCh
true
Server
Listen
listenWrite
listenRead
server
listenWrite
log
Println
msg
ch
log
PrintLn
msg
websocket
JOSN
Send
ws
msg
doneCh
server
Del
c
doneCh
true
